<div class="login-box">
  <div class="header-section">
    <div class="icon-container">
      <mat-icon class="login-icon">login</mat-icon>
    </div>
    <h2>BEM-VINDO</h2>
    <p class="subtitle">Faça login para continuar</p>
  </div>

  <form [formGroup]="signForm" class="form-section">
    <div class="login-method-section">
      <mat-radio-group formControlName="loginMethod" class="radio-group">
        <mat-radio-button value="username" class="radio-option">
          <div class="radio-content">
            <mat-icon>account_circle</mat-icon>
            <span>Usuário</span>
          </div>
        </mat-radio-button>
        <mat-radio-button value="email" class="radio-option">
          <div class="radio-content">
            <mat-icon>email</mat-icon>
            <span>E-mail</span>
          </div>
        </mat-radio-button>
      </mat-radio-group>
    </div>

    <mat-form-field
      *ngIf="signForm.get('loginMethod')?.value === 'username'"
      appearance="fill"
      class="w-full"
    >
      <mat-label>Usuário</mat-label>
      <input matInput type="text" formControlName="username" />
      <mat-icon matPrefix class="field-icon">account_circle</mat-icon>
    </mat-form-field>

    <mat-form-field
      *ngIf="signForm.get('loginMethod')?.value === 'email'"
      appearance="fill"
      class="w-full"
    >
      <mat-label>E-mail</mat-label>
      <input matInput type="email" formControlName="email" />
      <mat-icon matPrefix class="field-icon">email</mat-icon>
    </mat-form-field>

    <mat-form-field appearance="fill" class="w-full">
      <mat-label>Senha</mat-label>
      <input
        matInput
        [type]="hidePassword() ? 'password' : 'text'"
        formControlName="password"
        required
      />
      <mat-icon matPrefix class="field-icon">lock</mat-icon>
      <mat-icon matSuffix class="visibility-icon" (click)="hidePassword.set(!hidePassword())">
        {{ hidePassword() ? 'visibility_off' : 'visibility' }}
      </mat-icon>
      <mat-error *ngIf="signForm.get('password')?.hasError('minlength')">
        O limite mínimo para a senha é de 8 caracteres
      </mat-error>
    </mat-form-field>

    <button
      type="button"
      mat-raised-button
      [disabled]="signForm.invalid"
      (click)="login()"
      class="login-button"
    >
      <mat-icon>login</mat-icon>
      Entrar
    </button>

    <div class="register-link-container">
      <button type="button" mat-button (click)="register()" class="register-link">
        Não tem uma conta? <strong>Cadastre-se</strong>
      </button>
    </div>
  </form>
</div>
